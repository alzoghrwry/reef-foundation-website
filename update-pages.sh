#!/bin/bash

# ุณูุฑูุจุช ุชุญุฏูุซ GitHub Pages ุชููุงุฆูุงู
echo "๐ ุจุฏุก ุนูููุฉ ุชุญุฏูุซ GitHub Pages..."

# ุจูุงุก ุงููุดุฑูุน
echo "๐ฆ ุจูุงุก ุงููุดุฑูุน..."
npm run build

# ุงูุชุญูู ูู ูุฌูุฏ ูุฌูุฏ dist
if [ ! -d "dist" ]; then
    echo "โ ุฎุทุฃ: ูุฌูุฏ dist ุบูุฑ ููุฌูุฏ"
    exit 1
fi

# ุงูุงูุชูุงู ููุฑุน gh-pages
echo "๐ ุงูุงูุชูุงู ููุฑุน gh-pages..."
git checkout gh-pages

# ุญุฐู ุฌููุน ุงููููุงุช ุงููุฏููุฉ
echo "๐๏ธ ุญุฐู ุงููููุงุช ุงููุฏููุฉ..."
git rm -rf .

# ูุณุฎ ุงููููุงุช ุงูุฌุฏูุฏุฉ
echo "๐ ูุณุฎ ุงููููุงุช ุงูุฌุฏูุฏุฉ..."
cp -r dist/* .

# ุฅุถุงูุฉ ุงููููุงุช
echo "โ ุฅุถุงูุฉ ุงููููุงุช..."
git add .

# ุฅูุดุงุก commit
echo "๐พ ุฅูุดุงุก commit..."
git commit -m "Update website: $(date)"

# ุฑูุน ุงูุชุญุฏูุซุงุช
echo "โฌ๏ธ ุฑูุน ุงูุชุญุฏูุซุงุช..."
git push origin gh-pages

# ุงูุนูุฏุฉ ูููุฑุน ุงูุฑุฆูุณู
echo "๐ ุงูุนูุฏุฉ ูููุฑุน ุงูุฑุฆูุณู..."
git checkout main

echo "โ ุชู ุชุญุฏูุซ ุงููููุน ุจูุฌุงุญ!"
echo "๐ ุงููููุน ูุชุงุญ ุนูู: https://alzoghrwry.github.io/reef-foundation-website/"
